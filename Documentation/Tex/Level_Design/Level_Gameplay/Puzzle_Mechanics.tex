\subsubsection{Puzzle Mechanics}

There are various mechanics involved in the second part of the level.

Minerva will have to take advantage of her cat form in order to move through some hidden passages. Moving through these is a requirement to reach the end of the level (Gryffindor's Dormitory), but isn't strictly necessary for the parallel corridoirs on the right side. There, with good timing, the player can take advantage of the top-side opening to loop around the prefect in the top corridoir. However this is more of a challenge for players who like to challenge themselves; using the secret passage is the easiest and intended solution.

Minerva can tell Delphini to follow her or stop in a place at any time and in any form. The player has to control Delphini this way. 

In Cat form the player can willingly enter a Prefect's FOV to distract him. Combined with the previous mechanic, the player can make Delphini start moving through a dangerous area, then immediately distract the Prefect so that Delphini can reach her destination safely.

Being seen by a Prefect in human form is more of a nuisance. Minerva will be separated from Delphini as they will be directed to the respective Dormitories. In this case the player with Minerva has to first find Delphini (who will be in the closest of the predefined Hiding Spots), and then proceed through the level.

The real enemy here is the Caretaker. There are multiple instances of him across the map, but the player should have the feeling that it's always the same NPC who is unexplicably doing an excellent job as checking the whole castle at any time (some aesthetic-only doors in the environment around his patrol zones should give the idea that he too is using some secret passages to reach different places that quickly)

Being caught in human form is an instant game over, sending the player to the end of the level but with his missions failed. However being caught while in human form gives the player one more chance, since the first time he's caught Minerva will be thrown out of the castle, and will have to restart from the beginning. If this happens before Delphini reaches her Dormitory, she will again hide in the closest Hiding Spot, and the player will have to first find her.

When the Caretaker spots Minerva in her Cat-Form, he will try to catch her, following her steps. During that phase all other "Caretaker" instances will be temporarily disabled, until the Caretaker following the player renounces and goes out of sight. Other Caretakers will respawn except for the ones which spawn is inside the player's view; those will only respawn when the player loses sight over their spawn position. The Caretaker following the player will gradually increase his walking speed. In order to make him renounce, the player has to go in a Cat-Form only passage, or turn multiple corners before he gets too close. This can be exploited by the user as a dangerous way to distract the Caretaker and get him off of otherwhise more strictly guarded areas.